import 'dart:convert';

import 'package:app/screens/home_screen.dart';
import 'package:app/screens/settings_screen.dart';
import 'package:app/screens/test_screen.dart';
import 'package:app/utils/util.dart';
import 'package:flutter/material.dart';
import 'package:app/screens/main_screen.dart';
import 'package:app/design/theme/app_theme.dart';
import 'package:flutter/services.dart';
import 'package:shared_preferences/shared_preferences.dart';

import 'design/AppRouter.dart';

TestScreen testScreen = TestScreen();

void hideStatusBar() {
  SystemChrome.setEnabledSystemUIMode(SystemUiMode.immersiveSticky);
}

void showStatusBar() {
  SystemChrome.setEnabledSystemUIMode(SystemUiMode.manual,
      overlays: [SystemUiOverlay.top]);
}

Future<void> main() async {
  WidgetsFlutterBinding.ensureInitialized();

  await _saveScreen("print sample", jsonEncode(SamplesForLoading.getPrintSample()));
  await _saveScreen("bubble sort sample", jsonEncode(SamplesForLoading.getBubbleSortSample()));

  runApp(MyApp());
}

class MyApp extends StatefulWidget {

  MyApp({super.key});

  @override
  State<MyApp> createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  bool isDarkMode = true;

  void toggleTheme() {
    setState(() {
      isDarkMode = !isDarkMode;
    });
  }

  late var router = AppRouter(() {toggleTheme();});

  @override
  Widget build(BuildContext context) {
    final brightness = View.of(context).platformDispatcher.platformBrightness;
    TextTheme textTheme = createTextTheme(context, "Inter Tight", "Inter");
    MaterialTheme theme = MaterialTheme(textTheme);
    hideStatusBar();

    return MaterialApp(
      title: 'HITsBlocks',
      theme: (isDarkMode) ? theme.dark() : theme.light(),
      onGenerateRoute: router.onGenerateRoute,
      initialRoute: '/',
    );
  }
}

Future<void> _saveScreen(String name, String jsonString) async {
  final prefs = await SharedPreferences.getInstance();
  await prefs.setString(name, jsonString);
}

class SamplesForLoading {
  static getPrintSample() {
    return {"assignmentBlocks":[{"position":{"dx":1991.3281250000002,"dy":1157.7845982142867},"node":{"id":"node_1747821770258","position":{"dx":1901.4285714285716,"dy":964.2857142857144},"title":"Присвоить (string)","rawExpression":"a=\"privet\";","inputs":[{"id":"exec_in_1747821774202","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1747821775699","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"a"}]},"blockName":"string","width":200.0,"height":100.0,"isEditing":false,"wasEdited":true}],"logicBlocks":[{"position":{"dx":1901.4285714285716,"dy":1014.2857142857144},"node":{"id":"node_1747821767463","position":{"dx":1901.4285714285716,"dy":1014.2857142857144},"title":"Старт","inputs":[],"outputs":[{"id":"exec_out_1747821774202","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},"blockName":"start","width":100.0,"height":100.0,"leftArrows":[],"rightArrows":[{"offset":{"dx":15.0,"dy":55.0},"isWired":false}]}],"printBlocks":[{"position":{"dx":2029.42224702381,"dy":1342.271205357143},"node":{"id":"node_1747821768441","position":{"dx":1901.4285714285716,"dy":1014.2857142857144},"title":"Распечатать","rawExpression":"{a}","inputs":[{"id":"exec_in_1747821775699","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"a"}],"outputs":[]},"blockName":"print","width":200.0,"height":90.0,"isEditing":false,"wasEdited":true}],"ifElseBlocks":[],"whileBlocks":[],"swapBlocks":[],"commentBlocks":[],"wiredBlocks":[{"first":{"position":{"dx":1901.4285714285716,"dy":1014.2857142857144},"nodeId":"node_1747821767463"},"second":{"position":{"dx":1991.3281250000002,"dy":1157.7845982142867},"nodeId":"node_1747821770258"}},{"first":{"position":{"dx":1991.3281250000002,"dy":1157.7845982142867},"nodeId":"node_1747821770258"},"second":{"position":{"dx":2029.42224702381,"dy":1342.271205357143},"nodeId":"node_1747821768441"}}],"calibrations":{"node_1747821767463node_1747821770258":{"dx":0.0,"dy":60.0},"node_1747821770258node_1747821768441":{"dx":0.0,"dy":60.0}},"outputCalibrations":{"node_1747821767463node_1747821770258":{"dx":100.0,"dy":65.0},"node_1747821770258node_1747821768441":{"dx":200.0,"dy":65.0}},"nodeGraph":{"nodes":[{"id":"node_1747821767463","position":{"dx":1901.4285714285716,"dy":1014.2857142857144},"title":"Старт","inputs":[],"outputs":[{"id":"exec_out_1747821774202","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},{"id":"node_1747821768441","position":{"dx":1901.4285714285716,"dy":1014.2857142857144},"title":"Распечатать","rawExpression":"{a}","inputs":[{"id":"exec_in_1747821775699","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"a"}],"outputs":[]},{"id":"node_1747821770258","position":{"dx":1901.4285714285716,"dy":964.2857142857144},"title":"Присвоить (string)","rawExpression":"a=\"privet\";","inputs":[{"id":"exec_in_1747821774202","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1747821775699","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"a"}]}],"connections":[{"fromNodeId":"node_1747821767463","toNodeId":"node_1747821770258","fromPinId":"exec_out_1747821774202","toPinId":"exec_in_1747821774202"},{"fromNodeId":"node_1747821770258","toNodeId":"node_1747821768441","fromPinId":"exec_out_1747821775699","toPinId":"exec_in_1747821775699"}]}};
  }
  static getBubbleSortSample() {
    return {"assignmentBlocks":[{"position":{"dx":1813.555555555555,"dy":907.5999999999998},"node":{"id":"node_1748173448005","position":{"dx":1626.1777777777777,"dy":867.0666666666666},"title":"Присвоить (array)","rawExpression":"int a = {45, 21, 2, 16, 19, 7};","inputs":[{"id":"exec_in_1748173454147","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173549324","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"a"}]},"blockName":"array","width":200.0,"height":100.0,"isEditing":false,"wasEdited":false},{"position":{"dx":2006.266666666666,"dy":1056.2222222222226},"node":{"id":"node_1748173545263","position":{"dx":1934.444444444444,"dy":696.0444444444445},"title":"Присвоить (int)","rawExpression":"i=0;","inputs":[{"id":"exec_in_1748173549324","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"a"}],"outputs":[{"id":"exec_out_1748173566321","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"i"}]},"blockName":"int","width":200.0,"height":100.0,"isEditing":true,"wasEdited":false},{"position":{"dx":2498.586889126496,"dy":1048.2851993971171},"node":{"id":"node_1748173586717","position":{"dx":2405.0757780153835,"dy":829.9740882860061},"title":"Присвоить (int)","rawExpression":"j=0;","inputs":[{"id":"exec_in_1748173590504","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173612613","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},"blockName":"int","width":200.0,"height":100.0,"isEditing":true,"wasEdited":false},{"position":{"dx":2987.6569750936037,"dy":1051.1606491749694},"node":{"id":"node_1748173629047","position":{"dx":2925.7903084269365,"dy":853.8273158416356},"title":"Присвоить (int)","rawExpression":"idx=j+1;","inputs":[{"id":"exec_in_1748173633167","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173655196","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null},{"id":"exec_out_1748173656873","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},"blockName":"int","width":200.0,"height":100.0,"isEditing":true,"wasEdited":false},{"position":{"dx":3230.5014195380477,"dy":955.5162047305244},"node":{"id":"node_1748173649358","position":{"dx":3158.679197315825,"dy":819.3384269527463},"title":"Присвоить (int)","rawExpression":"first=a[j];","inputs":[{"id":"exec_in_1748173655196","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"idx"}],"outputs":[{"id":"exec_out_1748173703848","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"first"}]},"blockName":"int","width":200.0,"height":100.0,"isEditing":true,"wasEdited":false},{"position":{"dx":3225.8791973158254,"dy":1127.6050936194138},"node":{"id":"node_1748173649668","position":{"dx":3158.679197315825,"dy":819.3384269527463},"title":"Присвоить (int)","rawExpression":"second=a[idx];","inputs":[{"id":"exec_in_1748173656873","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"idx"}],"outputs":[{"id":"exec_out_1748173705490","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"second"}]},"blockName":"int","width":200.0,"height":100.0,"isEditing":true,"wasEdited":false},{"position":{"dx":3563.6000000003532,"dy":1609.8110322274829},"node":{"id":"node_1748173766463","position":{"dx":3506.000000000354,"dy":1185.988810005261},"title":"Инкремент","rawExpression":"j++","inputs":[{"id":"exec_in_1748173789193","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null},{"id":"exec_in_1748173792354","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173800914","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},"blockName":"increment","width":200.0,"height":100.0,"isEditing":false,"wasEdited":false},{"position":{"dx":2887.2368706689285,"dy":1349.8051157655466},"node":{"id":"node_1748173811331","position":{"dx":2832.4813151133726,"dy":1024.1162268766575},"title":"Инкремент","rawExpression":"i++","inputs":[{"id":"exec_in_1748173815913","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173831034","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},"blockName":"increment","width":200.0,"height":100.0,"isEditing":true,"wasEdited":false}],"logicBlocks":[{"position":{"dx":1626.1777777777777,"dy":917.0666666666666},"node":{"id":"node_1748173379622","position":{"dx":1626.1777777777777,"dy":917.0666666666666},"title":"Старт","inputs":[],"outputs":[{"id":"exec_out_1748173454147","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},"blockName":"start","width":100.0,"height":100.0,"leftArrows":[],"rightArrows":[{"offset":{"dx":15.0,"dy":55.0},"isWired":false}]},{"position":{"dx":3469.337370286246,"dy":1045.4110322274817},"node":{"id":"node_1748173699908","position":{"dx":3371.915148064023,"dy":863.7221433385934},"title":"Больше","inputs":[{"id":"exec_in_1748173703848","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"first"},{"id":"exec_in_1748173705490","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"second"}],"outputs":[{"id":"exec_out_1748173721002","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"bool","value":"false"}]},"blockName":"more","width":120.0,"height":120.0,"leftArrows":[{"offset":{"dx":15.0,"dy":45.0},"isWired":false},{"offset":{"dx":15.0,"dy":90.0},"isWired":false}],"rightArrows":[{"offset":{"dx":15.0,"dy":65.0},"isWired":false}]}],"printBlocks":[{"position":{"dx":2414.086026098104,"dy":1287.8286469860323},"node":{"id":"node_1748173838180","position":{"dx":2364.308248320326,"dy":1005.1619803193657},"title":"Распечатать","rawExpression":"{a}","inputs":[{"id":"exec_in_1748173844404","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[]},"blockName":"print","width":200.0,"height":90.0,"isEditing":false,"wasEdited":true}],"ifElseBlocks":[{"position":{"dx":3571.4222222223566,"dy":1213.9443655608159},"node":{"id":"node_1748173716664","position":{"dx":3506.000000000134,"dy":971.8110322274823},"title":"Условие","inputs":[{"id":"exec_in_1748173721002","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"bool","value":"false"}],"outputs":[{"id":"exec_out_1748173759653","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null},{"id":"exec_out_1748173792354","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},"blockName":"conditional","width":200.0,"height":120.0,"leftArrows":[{"offset":{"dx":15.0,"dy":40.0},"isWired":false}],"rightArrows":[{"offset":{"dx":15.0,"dy":40.0},"isWired":false},{"offset":{"dx":15.0,"dy":80.0},"isWired":false}]}],"whileBlocks":[{"position":{"dx":2264.6332715187596,"dy":1054.5518660637772},"node":{"id":"node_1748173562752","position":{"dx":2192.8110492965366,"dy":844.4185327304439},"title":"Цикл while","rawExpression":"i < 6","inputs":[{"id":"exec_in_1748173566321","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"i"},{"id":"exec_in_1748173831034","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173590504","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null},{"id":"exec_out_1748173844404","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},"blockName":"while","width":200.0,"height":120.0,"isEditing":true,"wasEdited":false},{"position":{"dx":2745.444202009529,"dy":1057.7452670457124},"node":{"id":"node_1748173603197","position":{"dx":2652.6442020095274,"dy":869.6563781568243},"title":"Цикл while","rawExpression":"j < 5","inputs":[{"id":"exec_in_1748173612613","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"j"},{"id":"exec_in_1748173800914","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173633167","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null},{"id":"exec_out_1748173815913","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},"blockName":"while","width":200.0,"height":120.0,"isEditing":true,"wasEdited":false}],"swapBlocks":[{"position":{"dx":3543.688888889131,"dy":1396.6999211163711},"node":{"id":"node_1748173728944","position":{"dx":3498.8888888891306,"dy":1143.8999211163716},"title":"Swap","rawExpressionFirst":"a[j]","rawExpressionSecond":"a[idx]","inputs":[{"id":"exec_in_1748173759653","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173789193","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},"blockName":"swap","width":220.0,"height":200.0,"isEditing":false,"wasEdited":false}],"commentBlocks":[],"wiredBlocks":[{"first":{"position":{"dx":1626.1777777777777,"dy":917.0666666666666},"nodeId":"node_1748173379622"},"second":{"position":{"dx":1813.555555555555,"dy":907.5999999999998},"nodeId":"node_1748173448005"}},{"first":{"position":{"dx":1813.555555555555,"dy":907.5999999999998},"nodeId":"node_1748173448005"},"second":{"position":{"dx":2006.266666666666,"dy":1056.2222222222226},"nodeId":"node_1748173545263"}},{"first":{"position":{"dx":2006.266666666666,"dy":1056.2222222222226},"nodeId":"node_1748173545263"},"second":{"position":{"dx":2264.6332715187596,"dy":1054.5518660637772},"nodeId":"node_1748173562752"}},{"first":{"position":{"dx":2264.6332715187596,"dy":1054.5518660637772},"nodeId":"node_1748173562752"},"second":{"position":{"dx":2498.586889126496,"dy":1048.2851993971171},"nodeId":"node_1748173586717"}},{"first":{"position":{"dx":2498.586889126496,"dy":1048.2851993971171},"nodeId":"node_1748173586717"},"second":{"position":{"dx":2745.444202009529,"dy":1057.7452670457124},"nodeId":"node_1748173603197"}},{"first":{"position":{"dx":2745.444202009529,"dy":1057.7452670457124},"nodeId":"node_1748173603197"},"second":{"position":{"dx":2987.6569750936037,"dy":1051.1606491749694},"nodeId":"node_1748173629047"}},{"first":{"position":{"dx":2987.6569750936037,"dy":1051.1606491749694},"nodeId":"node_1748173629047"},"second":{"position":{"dx":3230.5014195380477,"dy":955.5162047305244},"nodeId":"node_1748173649358"}},{"first":{"position":{"dx":2987.6569750936037,"dy":1051.1606491749694},"nodeId":"node_1748173629047"},"second":{"position":{"dx":3225.8791973158254,"dy":1127.6050936194138},"nodeId":"node_1748173649668"}},{"first":{"position":{"dx":3230.5014195380477,"dy":955.5162047305244},"nodeId":"node_1748173649358"},"second":{"position":{"dx":3469.337370286246,"dy":1045.4110322274817},"nodeId":"node_1748173699908"}},{"first":{"position":{"dx":3225.8791973158254,"dy":1127.6050936194138},"nodeId":"node_1748173649668"},"second":{"position":{"dx":3469.337370286246,"dy":1045.4110322274817},"nodeId":"node_1748173699908"}},{"first":{"position":{"dx":3469.337370286246,"dy":1045.4110322274817},"nodeId":"node_1748173699908"},"second":{"position":{"dx":3571.4222222223566,"dy":1213.9443655608159},"nodeId":"node_1748173716664"}},{"first":{"position":{"dx":3571.4222222223566,"dy":1213.9443655608159},"nodeId":"node_1748173716664"},"second":{"position":{"dx":3543.688888889131,"dy":1396.6999211163711},"nodeId":"node_1748173728944"}},{"first":{"position":{"dx":3543.688888889131,"dy":1396.6999211163711},"nodeId":"node_1748173728944"},"second":{"position":{"dx":3563.6000000003532,"dy":1609.8110322274829},"nodeId":"node_1748173766463"}},{"first":{"position":{"dx":3571.4222222223566,"dy":1213.9443655608159},"nodeId":"node_1748173716664"},"second":{"position":{"dx":3563.6000000003532,"dy":1609.8110322274829},"nodeId":"node_1748173766463"}},{"first":{"position":{"dx":3563.6000000003532,"dy":1609.8110322274829},"nodeId":"node_1748173766463"},"second":{"position":{"dx":2745.444202009529,"dy":1057.7452670457124},"nodeId":"node_1748173603197"}},{"first":{"position":{"dx":2745.444202009529,"dy":1057.7452670457124},"nodeId":"node_1748173603197"},"second":{"position":{"dx":2887.2368706689285,"dy":1349.8051157655466},"nodeId":"node_1748173811331"}},{"first":{"position":{"dx":2887.2368706689285,"dy":1349.8051157655466},"nodeId":"node_1748173811331"},"second":{"position":{"dx":2264.6332715187596,"dy":1054.5518660637772},"nodeId":"node_1748173562752"}},{"first":{"position":{"dx":2264.6332715187596,"dy":1054.5518660637772},"nodeId":"node_1748173562752"},"second":{"position":{"dx":2414.086026098104,"dy":1287.8286469860323},"nodeId":"node_1748173838180"}}],"calibrations":{"node_1748173379622node_1748173448005":{"dx":0.0,"dy":60.0},"node_1748173448005node_1748173545263":{"dx":0.0,"dy":60.0},"node_1748173545263node_1748173562752":{"dx":0.0,"dy":55.0},"node_1748173562752node_1748173586717":{"dx":0.0,"dy":60.0},"node_1748173586717node_1748173603197":{"dx":0.0,"dy":55.0},"node_1748173603197node_1748173629047":{"dx":0.0,"dy":60.0},"node_1748173629047node_1748173649358":{"dx":0.0,"dy":60.0},"node_1748173629047node_1748173649668":{"dx":0.0,"dy":60.0},"node_1748173649358node_1748173699908":{"dx":0.0,"dy":55.0},"node_1748173649668node_1748173699908":{"dx":0.0,"dy":100.0},"node_1748173699908node_1748173716664":{"dx":0.0,"dy":45.0},"node_1748173716664node_1748173728944":{"dx":0.0,"dy":60.0},"node_1748173728944node_1748173766463":{"dx":0.0,"dy":60.0},"node_1748173716664node_1748173766463":{"dx":0.0,"dy":60.0},"node_1748173766463node_1748173603197":{"dx":0.0,"dy":55.0},"node_1748173603197node_1748173811331":{"dx":0.0,"dy":60.0},"node_1748173811331node_1748173562752":{"dx":0.0,"dy":55.0},"node_1748173562752node_1748173838180":{"dx":0.0,"dy":60.0}},"outputCalibrations":{"node_1748173379622node_1748173448005":{"dx":100.0,"dy":65.0},"node_1748173448005node_1748173545263":{"dx":200.0,"dy":65.0},"node_1748173545263node_1748173562752":{"dx":200.0,"dy":65.0},"node_1748173562752node_1748173586717":{"dx":200.0,"dy":55.0},"node_1748173586717node_1748173603197":{"dx":200.0,"dy":65.0},"node_1748173603197node_1748173629047":{"dx":200.0,"dy":55.0},"node_1748173629047node_1748173649358":{"dx":200.0,"dy":65.0},"node_1748173629047node_1748173649668":{"dx":200.0,"dy":65.0},"node_1748173649358node_1748173699908":{"dx":200.0,"dy":65.0},"node_1748173649668node_1748173699908":{"dx":200.0,"dy":65.0},"node_1748173699908node_1748173716664":{"dx":120.0,"dy":75.0},"node_1748173716664node_1748173728944":{"dx":200.0,"dy":50.0},"node_1748173728944node_1748173766463":{"dx":220.0,"dy":60.0},"node_1748173716664node_1748173766463":{"dx":200.0,"dy":90.0},"node_1748173766463node_1748173603197":{"dx":200.0,"dy":65.0},"node_1748173603197node_1748173811331":{"dx":200.0,"dy":95.0},"node_1748173811331node_1748173562752":{"dx":200.0,"dy":65.0},"node_1748173562752node_1748173838180":{"dx":200.0,"dy":95.0}},"nodeGraph":{"nodes":[{"id":"node_1748173379622","position":{"dx":1626.1777777777777,"dy":917.0666666666666},"title":"Старт","inputs":[],"outputs":[{"id":"exec_out_1748173454147","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},{"id":"node_1748173448005","position":{"dx":1626.1777777777777,"dy":867.0666666666666},"title":"Присвоить (array)","rawExpression":"int a = {45, 21, 2, 16, 19, 7};","inputs":[{"id":"exec_in_1748173454147","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173549324","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"a"}]},{"id":"node_1748173545263","position":{"dx":1934.444444444444,"dy":696.0444444444445},"title":"Присвоить (int)","rawExpression":"i=0;","inputs":[{"id":"exec_in_1748173549324","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"a"}],"outputs":[{"id":"exec_out_1748173566321","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"i"}]},{"id":"node_1748173562752","position":{"dx":2192.8110492965366,"dy":844.4185327304439},"title":"Цикл while","rawExpression":"i < 6","inputs":[{"id":"exec_in_1748173566321","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"i"},{"id":"exec_in_1748173831034","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173590504","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null},{"id":"exec_out_1748173844404","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},{"id":"node_1748173586717","position":{"dx":2405.0757780153835,"dy":829.9740882860061},"title":"Присвоить (int)","rawExpression":"j=0;","inputs":[{"id":"exec_in_1748173590504","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173612613","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},{"id":"node_1748173603197","position":{"dx":2652.6442020095274,"dy":869.6563781568243},"title":"Цикл while","rawExpression":"j < 5","inputs":[{"id":"exec_in_1748173612613","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"j"},{"id":"exec_in_1748173800914","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173633167","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null},{"id":"exec_out_1748173815913","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},{"id":"node_1748173629047","position":{"dx":2925.7903084269365,"dy":853.8273158416356},"title":"Присвоить (int)","rawExpression":"idx=j+1;","inputs":[{"id":"exec_in_1748173633167","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173655196","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null},{"id":"exec_out_1748173656873","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},{"id":"node_1748173649358","position":{"dx":3158.679197315825,"dy":819.3384269527463},"title":"Присвоить (int)","rawExpression":"first=a[j];","inputs":[{"id":"exec_in_1748173655196","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"idx"}],"outputs":[{"id":"exec_out_1748173703848","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"first"}]},{"id":"node_1748173649668","position":{"dx":3158.679197315825,"dy":819.3384269527463},"title":"Присвоить (int)","rawExpression":"second=a[idx];","inputs":[{"id":"exec_in_1748173656873","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"idx"}],"outputs":[{"id":"exec_out_1748173705490","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"second"}]},{"id":"node_1748173699908","position":{"dx":3371.915148064023,"dy":863.7221433385934},"title":"Больше","inputs":[{"id":"exec_in_1748173703848","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"first"},{"id":"exec_in_1748173705490","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"String","value":"second"}],"outputs":[{"id":"exec_out_1748173721002","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"bool","value":"false"}]},{"id":"node_1748173716664","position":{"dx":3506.000000000134,"dy":971.8110322274823},"title":"Условие","inputs":[{"id":"exec_in_1748173721002","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"bool","value":"false"}],"outputs":[{"id":"exec_out_1748173759653","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null},{"id":"exec_out_1748173792354","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},{"id":"node_1748173728944","position":{"dx":3498.8888888891306,"dy":1143.8999211163716},"title":"Swap","rawExpressionFirst":"a[j]","rawExpressionSecond":"a[idx]","inputs":[{"id":"exec_in_1748173759653","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173789193","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},{"id":"node_1748173766463","position":{"dx":3506.000000000354,"dy":1185.988810005261},"title":"Инкремент","rawExpression":"j++","inputs":[{"id":"exec_in_1748173789193","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null},{"id":"exec_in_1748173792354","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173800914","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},{"id":"node_1748173811331","position":{"dx":2832.4813151133726,"dy":1024.1162268766575},"title":"Инкремент","rawExpression":"i++","inputs":[{"id":"exec_in_1748173815913","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[{"id":"exec_out_1748173831034","name":"Exec Out","isInput":false,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}]},{"id":"node_1748173838180","position":{"dx":2364.308248320326,"dy":1005.1619803193657},"title":"Распечатать","rawExpression":"{a}","inputs":[{"id":"exec_in_1748173844404","name":"Exec In","isInput":true,"isRequired":true,"isExecutionPin":true,"valueType":"null","value":null}],"outputs":[]}],"connections":[{"fromNodeId":"node_1748173379622","toNodeId":"node_1748173448005","fromPinId":"exec_out_1748173454147","toPinId":"exec_in_1748173454147"},{"fromNodeId":"node_1748173448005","toNodeId":"node_1748173545263","fromPinId":"exec_out_1748173549324","toPinId":"exec_in_1748173549324"},{"fromNodeId":"node_1748173545263","toNodeId":"node_1748173562752","fromPinId":"exec_out_1748173566321","toPinId":"exec_in_1748173566321"},{"fromNodeId":"node_1748173562752","toNodeId":"node_1748173586717","fromPinId":"exec_out_1748173590504","toPinId":"exec_in_1748173590504"},{"fromNodeId":"node_1748173586717","toNodeId":"node_1748173603197","fromPinId":"exec_out_1748173612613","toPinId":"exec_in_1748173612613"},{"fromNodeId":"node_1748173603197","toNodeId":"node_1748173629047","fromPinId":"exec_out_1748173633167","toPinId":"exec_in_1748173633167"},{"fromNodeId":"node_1748173629047","toNodeId":"node_1748173649358","fromPinId":"exec_out_1748173655196","toPinId":"exec_in_1748173655196"},{"fromNodeId":"node_1748173629047","toNodeId":"node_1748173649668","fromPinId":"exec_out_1748173656873","toPinId":"exec_in_1748173656873"},{"fromNodeId":"node_1748173649358","toNodeId":"node_1748173699908","fromPinId":"exec_out_1748173703848","toPinId":"exec_in_1748173703848"},{"fromNodeId":"node_1748173649668","toNodeId":"node_1748173699908","fromPinId":"exec_out_1748173705490","toPinId":"exec_in_1748173705490"},{"fromNodeId":"node_1748173699908","toNodeId":"node_1748173716664","fromPinId":"exec_out_1748173721002","toPinId":"exec_in_1748173721002"},{"fromNodeId":"node_1748173716664","toNodeId":"node_1748173728944","fromPinId":"exec_out_1748173759653","toPinId":"exec_in_1748173759653"},{"fromNodeId":"node_1748173728944","toNodeId":"node_1748173766463","fromPinId":"exec_out_1748173789193","toPinId":"exec_in_1748173789193"},{"fromNodeId":"node_1748173716664","toNodeId":"node_1748173766463","fromPinId":"exec_out_1748173792354","toPinId":"exec_in_1748173792354"},{"fromNodeId":"node_1748173766463","toNodeId":"node_1748173603197","fromPinId":"exec_out_1748173800914","toPinId":"exec_in_1748173800914"},{"fromNodeId":"node_1748173603197","toNodeId":"node_1748173811331","fromPinId":"exec_out_1748173815913","toPinId":"exec_in_1748173815913"},{"fromNodeId":"node_1748173811331","toNodeId":"node_1748173562752","fromPinId":"exec_out_1748173831034","toPinId":"exec_in_1748173831034"},{"fromNodeId":"node_1748173562752","toNodeId":"node_1748173838180","fromPinId":"exec_out_1748173844404","toPinId":"exec_in_1748173844404"}]}};
  }
}